# README - Stripe Demo

## Описание проекта
**Stripe Demo** — это веб-приложение на Django, интегрированное с **Stripe API**, позволяющее пользователям просматривать каталог товаров, добавлять товары в заказ и оплачивать их через Stripe.

### Основной функционал:
- **Модель Item**: Товары с полями (name, description, price, currency).
- **API-эндпоинты**:
  - `GET /item/{id}` — HTML-страница с информацией о товаре и кнопкой "Купить".
  - `GET /buy/{id}` — API-запрос для создания Stripe Checkout Session.
- **Модель Order**: Позволяет объединять несколько товаров в единый заказ.
- **Работа с сессиями**: Каждому пользователю создаётся уникальный Order на основе сессии.
- **Оплата через Stripe**: Возможность оплачивать отдельные товары и заказ целиком.
- **Django Admin**: Управление товарами и заказами через административную панель.
- **Автоматическое создание суперпользователя**: `admin/admin` при запуске контейнера.
- **Использование переменных среды**: Все необходимые переменные среды перечислены в файле `test.env`. Перед запуском проекта создайте файл `.env` и укажите в нём нужные значения.
- **Добавление товаров**: Товары можно добавлять через админку (модель `Item`) или с помощью Django-консоли.
- **Каталог товаров**: Работа с каталогом товаров доступна по адресу `/catalog`.

---
## Запуск проекта
### 1. Убедитесь, что установлены Docker и Docker Compose
Для запуска требуется **Docker** и **docker-compose**. Если они не установлены, следуйте инструкциям на [официальном сайте Docker](https://docs.docker.com/get-docker/).

### 2. Клонируйте репозиторий
```bash
  git clone https://github.com/BOPOH1243/DjangoStripeProject.git
  cd DjangoStripeProject
```

### 3. Создайте файл `.env`
Скопируйте содержимое `test.env` в `.env` и укажите необходимые значения переменных среды.

### 4. Запуск контейнеров
Запуск контейнеров выполняется командой:
```bash
  sudo docker-compose up --build --force-recreate
```
После успешного запуска, приложение будет доступно по адресу `http://localhost:8000/`.

### 5. Доступ к Django Admin
Административная панель доступна по адресу:
```
http://localhost:8000/admin/
```
**Данные для входа:**
- **Логин:** `admin`
- **Пароль:** `admin`

### 6. Каталог товаров
Каталог товаров доступен по адресу:
```
http://localhost:8000/catalog/
```

### 7. Тестирование платежей через Stripe
Stripe API работает в тестовом режиме. Вы можете использовать тестовые карты из [Stripe Docs](https://stripe.com/docs/testing) для проверки оплаты.

---
## Возможные улучшения в будущем
1. **Управление сессиями через Redis** для масштабируемости.
2. **Добавление кнопок увеличения/уменьшения количества товаров** в заказе.
3. **Удаление товаров из заказа** через UI.
4. **Развёртывание на продакшен-сервере с настройкой HTTPS и CI/CD.**

---
## Контакты
Если у вас есть вопросы или предложения, свяжитесь с разработчиком.

